---
description: Monorepo workspace patterns and conventions
alwaysApply: true
---

Bun workspace monorepo with apps/suref-web and packages/salvageunion-reference.

- Use `bun` as package manager (not npm/yarn)
- Workspace dependencies use `workspace:*` protocol
- Root scripts use `bun --filter` to target packages
- Package builds must run before app builds: `bun run build:package && bun --filter suref-web build`
- Quick dev: `bun run dev` (builds package quickly, then starts app)
- Watch mode: `bun run dev:watch` (watches package changes and app)
- Type checking: `bun run typecheck` (checks all packages)
- Linting: `bun run lint` (app only) or `bun run lint:all` (all packages)
- `salvageunion-reference` is a workspace package imported as `salvageunion-reference`
- Always build the package before importing in the app during development
- Package exports: main entry (`./lib/index.ts`), data files (`./data/*.json`), schemas (`./schemas/*.json`)
- Use TypeScript path aliases instead of relative imports: `@/` maps to `src/` directory (e.g., `import { useHydratedPilot } from '@/hooks/pilot'` not `import { useHydratedPilot } from '../../../hooks/pilot'`)
- Configure path aliases in `tsconfig.json` and `vite.config.ts`
- Workspace packages resolve automatically via Bun workspace protocol
- Generated files (like `routeTree.gen.ts`, `database-generated.types.ts`) are ignored in linting
