---
description: TypeScript conventions and code style
globs:
  - '**/*.ts'
  - '**/*.tsx'
alwaysApply: true
---

# TypeScript Style Guide

## Type Safety

- Use strict TypeScript settings (enabled in `tsconfig.json`)
- Prefer `type` over `interface` for object types (unless extending)
- Use `as const` for literal types and readonly arrays
- Avoid `any` at all costs - use `unknown` if type is truly unknown

## Type Imports

- Import types with `import type` syntax
- Use path aliases when importing from `src/` directory
- Example: `import type { Tables, TablesInsert } from '@/types/database-generated.types'`

## Database Types

- Use generated types from `database-generated.types.ts`
- `Tables<'table_name'>` for row types
- `TablesInsert<'table_name'>` for insert types
- `TablesUpdate<'table_name'>` for update types

## Package Types

- Import types from `salvageunion-reference` package
- Use `SURef*` prefix types (e.g., `SURefChassis`, `SURefEquipment`)
- Use `SURefSchemaName` for schema name unions

## Generic Constraints

- Use meaningful generic names: `T`, `TData`, `TVariables`
- Add constraints when needed: `<T extends { id: string }>`
- Document complex generics with JSDoc

## Utility Types

- Use `Omit`, `Pick`, `Partial`, `Required` from TypeScript
- Use `type-fest` utilities when needed (already in dependencies)

## Code Style

- Use Prettier for formatting (configured in project)
- Run `bun run format` before committing
- Use ESLint (configured with TypeScript rules)
- Run `bun run lint` to check

## Examples

```ts
// Type import with path alias
import type { Tables, TablesInsert, TablesUpdate } from '@/types/database-generated.types'
import type { HydratedEntity } from '@/types/hydrated'

// Generic with constraint
function updateEntity<T extends { id: string }>(id: string, updates: Partial<T>): Promise<T>

// Using utility types
type EntityUpdate = Omit<Tables<'suentities'>, 'id' | 'created_at'>

// Prefer path aliases over relative imports
// ✅ Good
import { useHydratedPilot } from '@/hooks/pilot'
import { supabase } from '@/lib/supabase'

// ❌ Avoid
import { useHydratedPilot } from '../../hooks/pilot'
import { supabase } from '../lib/supabase'
```
